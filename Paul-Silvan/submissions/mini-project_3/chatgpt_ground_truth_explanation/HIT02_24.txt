The variable g can become negative due to incorrect handling of input values, specifically when the parameter value (instead of v) is used in the calculation. This negative g is passed to the Color constructor, which expects values between 0–255 (or 0.0–1.0 for floats), causing an IllegalArgumentException. Adding a check to ensure g stays within the valid range or correctly using v in the calculation would fix the issue.